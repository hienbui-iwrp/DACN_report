% !TeX root = ..\main.tex
\section{Thiết kế cơ sở dữ liệu}
\par Nhóm lựa chọn kiến trúc Microservice cho hệ thống, với việc chia ra các service nhỏ và mỗi service có một database riêng phục vụ cho nghiệp vụ của riêng service đó, nên ở đây các database được thiết kế riêng lẻ cho từng service.

\subsection{ERD/EERD}
\subsubsection{Service Khách hàng}
\begin{figure}[!htp]
	\begin{center}
		\includegraphics[width=6cm]{img/database/erd/eerd-customer.png}
		\newline
		\caption{ERD cho database của service Khách hàng}
	\end{center}
\end{figure}

\par Database của service Khách hàng chứa thực thể là Khách hàng, chứa các thông tin cá nhân của khách hàng, bao gồm các thuộc tính:
\begin{itemize}
	\item Mã khách hàng: thuộc tính khóa, là mã của khách hàng.
	\item Tên: Là tên của khách hàng.
	\item Giới tính: Là giới tính của khách hàng.
	\item Email: Là email của khách hàng.
	\item Số điện thoại: Là số điện thoại của khách hàng.
	\item Số nhà, đường: Là địa chỉ số nhà, đường của khách hàng ở.
	\item Phường / xã: Là địa chỉ phường / xã của khách hàng ở.
	\item Quận / huyện: Là địa chỉ quận / huyện của khách hàng ở.
	\item Tỉnh / thành phố: Là địa chỉ tỉnh / thành phố của khách hàng ở.
\end{itemize}


\subsubsection{Service Giỏ hàng}
\begin{figure}[!htp]
	\begin{center}
		\includegraphics[width=8cm]{img/database/erd/eerd-cart.png}
		\newline
		\caption{ERD cho database của service Giỏ hàng}
	\end{center}
\end{figure}

\par Database của service Giỏ hàng bao gồm hai thực thể là Giỏ hàng và Hàng trong giỏ hàng. Thực thể Giỏ hàng chứa thông tin về giỏ hàng, bao gồm các thuộc tính:
\begin{itemize}
	\item Mã giỏ hàng: thuộc tính khóa, là mã của giỏ hàng.
	\item Tên đăng nhập: là mã khách hàng của khách hàng chủ của giỏ hàng đó.
\end{itemize}

\par Thực thể Hàng trong giỏ hàng chứa thông tin của mặt hàng trong trong giỏ hàng đó. Thực thể này bao gồm các thuộc tính:
\begin{itemize}
	\item Mã hàng: thuộc tính khóa, là mã của loại hàng đó.
	\item Kích thước: thuộc tính khóa, là kích thước của loại hàng đó.
	\item Màu: thuộc tính khóa, là màu sắc của loại hàng đó.
	\item Số lượng: số lượng loại hàng đó trong giỏ.
\end{itemize}

\par Giỏ hàng và Hàng có mối quan hệ chứa, Mối quan hệ là M-N. Giỏ hàng tham gia vào mối quan hệ với ràng buộc tham gia không bắt buộc: Giỏ hàng có thể chứa hàng hoặc không, có thể chứa hàng với số lượng khác nhau. Hàng tham gia vào mối quan hệ với ràng buộc tham gia không bắt buộc, một hàng có thể có hoặc không thuộc giỏ hàng nào. Mối quan hệ này có các thuộc tính:



\subsubsection{Service Sự kiện}
\begin{figure}[!htp]
	\begin{center}
		\includegraphics[width=7cm]{img/database/erd/eerd-event.png}
		\newline
		\caption{ERD cho database của service Sự kiện}
	\end{center}
\end{figure}

\par Database của service Sự kiện bao gồm hai thực thể là Sự kiện và Hàng. Thực thể Sự kiện chứa thông tin về sự kiện, bao gồm các thuộc tính:
\begin{itemize}
	\item Mã sự kiện: thuộc tính khóa, là mã của sự kiện.
	\item Tên: là của sự kiện.
	\item Mức giảm: là giá trị giảm giá của sự kiện đối với các mặt hàng trong sự kiện.
	\item Ảnh: ảnh minh họa.
	\item Thời gian bắt đầu: là thời gian bắt đầu sự kiện.
	\item Thời gian kết thúc: là thời gian kết thúc sự kiện.
	\item Ngày tạo: là thời gian tạo sự kiện.
\end{itemize}

\par Thực thể Hàng trong sự kiện chứa thông tin của mặt hàng trong trong sự kiện đó. Thực thể này bao gồm các thuộc tính:
\begin{itemize}
	\item Mã hàng: thuộc tính khóa, là mã của loại hàng đó.
\end{itemize}

\par Sự kiện và Hàng có mối quan hệ có, mối quan hệ là M-N: sự kiện có thể có nhiều hàng, ít hàng hoặc không có hàng; hàng trong cũng có thể thuộc không hoặc ít hoặc nhiều sự kiện.


\subsubsection{Service Hàng hóa}
\begin{figure}[!htp]
	\begin{center}
		\includegraphics[width=10cm]{img/database/erd/shop_online-hàng.png}
		\newline
		\caption{ERD cho database của service Hàng hóa}
	\end{center}
\end{figure}

\par Database của service Hàng hóa bao gồm hai thực thể là Hàng hóa và Hàng trong kho. Thực thể hàng hóa chỉ thông tin các mặt hàng được bán, bao gồm các thuộc tính:
\begin{itemize}
	\item Mã hàng: thuộc tính khóa, là mã của mặt hàng.
	\item Kích thước: thuộc tính khóa, là kích thước của mặt hàng.
	\item Màu: thuộc tính khóa, là màu của mặt hàng.
	\item Tên hàng: là tên của mặt hàng.
	\item Lứa tuổi: là lứa tuổi phù hợp của mặt hàng.
	\item Giới tính: là giới tính phù hợp của mặt hàng.
	\item Nhà sản xuất: là nhà sản xuất của mặt hàng.
	\item Hình ảnh: thuộc tính đa trị, bao gồm các hình ảnh của mặt hàng.
	\item Được bán: cho biết mặt hàng có đang được mở bán hay không.
	\item Đơn giá: giá tiền cho một đơn vị của mặt hàng.
	\item Mô tả: thông tin thêm về mặt hàng.
	\item Loại: thể loại của mặt hàng.
	\item Số lượng hiện tại: thuộc tính dẫn xuất, là số lượng còn tồn hiện tại của mặt hàng.
	\item Ngày tạo: ngày thêm hàng vào hệ thống.
\end{itemize}

\par Thực thể Hàng trong kho chỉ thông tin của mặt hàng trong một kho nào đó. Thực thể này bao gồm các thuộc tính:
\begin{itemize}
	\item Mã kho: thuộc tính khóa, là mã của kho chứa hàng đó.
	\item Số lượng: số lượng hàng đó còn trong kho.
	\item Ngày tạo: ngày mặt hàng lần đầu vào kho.
	\item Ngày thay đổi: ngày hàng trong kho có sự thay đổi.
\end{itemize}

\par Hàng hóa và Hàng trong kho có mối quan hệ Bao gồm, đây là mối quan hệ bắt buộc, 1-N: hàng hóa bắt buộc phải nằm trong kho, và một mặt hàng có thể nằm ở nhiều kho; hàng trong kho bắt buộc thuộc về một mặt hàng, và chỉ thuộc về duy nhất một mặt hàng.


\subsubsection{Service Đơn hàng}
\begin{figure}[!htp]
	\begin{center}
		\includegraphics[width=17cm]{img/database/erd/shop_online-đơnhàng.png}
		\newline
		\caption{ERD cho database của service Đơn hàng}
	\end{center}
\end{figure}

\par Database của service Đơn hàng bao gồm các thực thể Đơn hàng và Hàng hóa, chỉ các hàng hóa trong đơn hàng. Đơn hàng được cụ thể hóa xuống Đơn hàng online và Đơn hàng cửa hàng.
\par Thực thể Đơn hàng gồm các thuộc tính:
\begin{itemize}
	\item Mã đơn hàng: thuộc tính khóa, chỉ mã của đơn hàng.
	\item Mã công khai: mã của đơn hàng mà khách hàng thấy.
	\item Ngày giao dịch: ngày thực hiện giao dịch mua hàng và sinh ra đơn hàng.
	\item Tổng giá tiền: thuộc tính dẫn xuất, là tổng giá tiền của đơn hàng.
\end{itemize}

\par Thực thể Đơn hàng trực tuyến có thêm các thuộc tính:
\begin{itemize}
	\item Mã khách hàng: là mã khách hàng đã mua hàng online.
	\item Phí ship: giá tiền cho việc vận chuyển đơn hàng.
	\item Ngày dự định: ngày giao hàng mong đợi.
	\item Thông tin trạng thái: thuộc tính phức hợp, bao gồm các thông tin Trạng thái và Thời gian chỉ các trạng thái và thời gian đạt đến trạng thái đó của đơn hàng.
	\item Tên người nhận: tên của người nhận.
	\item Email: Là email của người nhận.
	\item Số điện thoại: Là số điện thoại của người nhận.
	\item Số nhà, đường: Là địa chỉ số nhà, đường của khách hàng ở.
	\item Phường / xã: Là địa chỉ phường / xã của người nhận.
	\item Quận / huyện: Là địa chỉ quận / huyện của người nhận.
	\item Tỉnh / thành phố: Là địa chỉ tỉnh / thành phố của người nhận.
\end{itemize}

\par Thực thể Đơn hàng cửa hàng có thêm thuộc tính:
\begin{itemize}
	\item Mã cửa hàng: mã cửa hàng bán hàng trong đơn hàng.
	\item Mmã nhân viên: nhân viên thực hiện giao dịch
\end{itemize}

\par Thực thể Hàng bao gồm các thuộc tính:
\begin{itemize}
	\item Mã hàng: thuộc tính khóa, là mã của mặt hàng trong đơn hàng.
	\item Kích thước: thuộc tính khóa, là kích thước của hàng trong đơn hàng.
	\item Màu: thuộc tính khóa, là màu của hàng trong đơn hàng.
	\item Số lượng: số lượng hàng đã mua trong đơn hàng.
	\item Đơn giá: giá tiền một đơn vị của hàng trong đơn hàng.
	\item Thuế: giá tiền thuế của hàng trong đơn hàng.
	\item Thành tiền: thuộc tính dẫn xuất, là tổng giá tiền (đơn giá * số lượng) + thuế.
	\item Tên hàng: tên của món Hàng
	\item Ảnh: ảnh minh  họa của hàng
\end{itemize}

\par Đơn hàng và Hàng có quan hệ Bao gồm, đây là quan hệ bắt buộc, 1-N: đơn hàng bắt buộc có hàng, và có thể có nhiều hàng; hàng trong đơn hàng bắt buộc phải thuộc về một mặt hàng, và chỉ thuộc về duy nhất một mặt hàng.

\subsubsection{Service Kho}
\begin{figure}[!htp]
	\begin{center}
		\includegraphics[width=9cm]{img/database/erd/shop_online-Kho.png}
		\newline
		\caption{ERD cho database của service Kho}
	\end{center}
\end{figure}

\par Database của service Kho bao gồm thực thể Kho và thực thể Nhân viên kho. Thực thể Kho bao gồm các thuộc tính:
\begin{itemize}
	\item Mã kho: thuộc tính khóa, là mã của kho.
	\item Tên kho: tên của kho.
	\item Ngày thành lập: ngày mà kho đi vào sử dụng.
	\item Địa chỉ: thuộc tính kết hợp, bao gồm các thuộc tính Số nhà, đường, Phường, Thành phố / Quận / Huyện, Tỉnh / Thành phố.
	\item Sức chứa: sức chứa hàng tối đa của kho.
\end{itemize}

\par Thực thể Nhân viên kho bao gồm các thuộc tính:
\begin{itemize}
	\item Mã nhân viên: thuộc tính khóa, là mã của nhân viên làm việc ở kho.
	\item Vị trì: chức vụ của nhân viên.
\end{itemize}

\par Kho và nhân viên kho có mối quan hệ Bao gồm là mối quan hệ bắt buộc, M-N: kho bắt buộc có nhân viên, và có thể có nhiều nhân viên làm việc; nhân viên buộc phải làm việc ở ít nhất một kho, và có thể làm việc ở nhiều kho. Mối quan hệ này có các thuộc tính:
\begin{itemize}
	\item Ngày bắt đầu: ngày nhân viên bắt đầu làm việc tại kho đó.
	\item Ngày kết thúc: ngày nhân viên nghỉ làm việc tại kho đó.
\end{itemize}


\subsubsection{Service chi nhánh}
\begin{figure}[!htp]
	\begin{center}
		\includegraphics[width=11cm]{img/database/erd/branch.png}
		\newline
		\caption{ERD cho database của service chi nhánh}
	\end{center}
\end{figure}

Database của service chi nhánh bao gồm hai thực thể là Nhân viên và chi nhánh. Thực thể chi nhánh chứa thông tin về chi nhánh:
\begin{itemize}
	\item mã: thuộc tính khóa, là mã của chi nhánh.
	\item tên: Tên chi nhánh.
	\item ngày tạo: Ngày tạo chi nhánh.
	\item giờ mở: Giờ mở cửa mổi ngày của chi nhánh.
	\item giờ đóng: Giờ đóng cửa mổi ngày của chi nhánh.
	\item ngày tạo: Ngày thành lập chi nhánh.
	\item đường/thôn: Tên đường của chi nhánh.
	\item phường/xã: Phường xã của chi nhánh.
	\item quận/huyện: Quận, huyện của chi nhánh.
	\item thành phố /tỉnh: Tỉnh, thành phố của chi nhánh
\end{itemize}

Thực thể Nhân viên chỉ chứa một vài thông tin nhân viên:
\begin{itemize}
	\item mã: thuộc tính khóa, là mã của nhân viên.
\end{itemize}

Chi nhánh và nhân viên có mối quan hệ Làm tại và Quản lý: Mỗi chi nhánh đều phải có ít nhất một nhân viên và một quản lý. Mối quan hệ Bao gồm có các thông tin:
\begin{itemize}
	\item ngày bắt đầu: ngày bắt đầu làm việc tại chi nhánh của nhân viên.
	\item ngày kết thúc: ngày kết thúc làm việc tại chi nhánh của nhân viên.
\end{itemize}


\subsubsection{Service tài khoản}
\begin{figure}[!htp]
	\begin{center}
		\includegraphics[width=5cm]{img/database/erd/account.png}
		\newline
		\caption{ERD cho database của service tài khoản}
	\end{center}
\end{figure}

Database của service tài khoản chỉ có thực thể tài khoản chứa thông tin về tài khoản:
\begin{itemize}
	\item tên đăng nhập: Thuộc tính khóa, là tên đăng nhập của tài khoản.
	\item mật khẩu: Mật khẩu của tài khoản.
	\item quyền: Quyền của tài khoản.
	\item ngày tạo: ngày lập tài khoản.
	\item email: email của tài khoản.
	\item trạng thái: trạng thái tài khoản còn hoạt động không
\end{itemize}


\subsubsection{Service nhân viên}
\begin{figure}[!htp]
	\begin{center}
		\includegraphics[width=13cm]{img/database/erd/staff.png}
		\newline
		\caption{ERD cho database của service nhân viên}
	\end{center}
\end{figure}

Database của service nhân viên chứa các thực thể Nhân viên, Bản yêu cầu, Tài khoản. Thực thể Nhân viên bao gồm các thông tin của nhân viên:
\begin{itemize}
	\item mã: thuộc tính khóa, là mã của nhân viên.
	\item tên: Tên nhân viên.
	\item căn cước: Căn cước công dân chi nhánh
	\item vị trí: Vị trí làm việc trong cửa hàng
	\item lương: Mức lương của nhân viên
	\item ngày vào: Ngày được nhận vào làm.
	\item sdt: Số điện thoại của nhân viên.
	\item email: Email của nhân viên.
	\item nơi làm việc: nơi làm cua nhân viên.
	\item quê quán: quê của nhân viên.
	\item trạng thái: còn làm việc hay không.
	\item đường/thôn: Tên đường của nhân viên.
	\item phường/xã: Phường xã của nhân viên.
	\item quận/huyện: Quận, huyện của nhân viên.
	\item thành phố /tỉnh: Tỉnh, thành phố của nhân viên
\end{itemize}

Thực thể Bản yêu cầu chứa thông tin về yêu cầu thêm, xóa nhân viên:
\begin{itemize}
	\item mã: thuộc tính khóa, là mã của yêu cầu.
	\item ngày tạo: Ngày tạo yêu cầu
	\item loại: Loại của yêu cầu là thêm hay xóa
	\item trạng thái: Trạng thái của yêu cầu đang chờ, được duyệt hoặc hủy bỏ
\end{itemize}

Thực thể Tài khoản chỉ chứa thông tin về tên tài khoản của nhân viên

Nhân viên và Bản yêu cầu có mối quan hệ Thuộc về: Mỗi bản yêu cầu đều phải thuộc về một nhân viên

Nhân viên và Tài khoản có mối quan hệ Có: Chỉ có các nhân viên cấp quản lý mới sở hữu tài khoản

\subsubsection{Service thống kê}
\begin{figure}[!htp]
	\begin{center}
		\includegraphics[width=12cm]{img/database/erd/Statistic.png}
		\newline
		\caption{ERD cho database của service thống kê}
	\end{center}
\end{figure}

Database của service chi nhánh bao gồm hai thực thể là Đơn hàng và hàng. Thực thể đơn hàng chứa thông tin về các đơn hàng:
\begin{itemize}
	\item Mã đơn hàng: thuộc tính khóa, là mã của đơn hàng.
	\item Ngày giao dịch: Ngày tạo đơn hàng.
	\item mã cửa hàng: Nơi tạo đơn hàng.
\end{itemize}

Thực thể Hàng chỉ chứa một vài thông tin của hàng hóa được bán:
\begin{itemize}
	\item Mã hàng: thuộc tính khóa, là mã của món hàng.
	\item Kích thước: thuộc tính khóa, là kích thước của món hàng.
	\item Màu: thuộc tính khóa, là mã của món hàng.
	\item Loại: Loại của món hàng.
	\item Số lượng: Số lượng của món hàng trong đơn.
	\item Giới tính: Giới tính của món hàng.
	\item Giá nhập: Giá nhập của món hàng.
	\item đơn giá: Đơn giá bán ra của món hàng.
\end{itemize}

Đơn hàng và hàng có mối quan hệ bao gồm: Mỗi đơn hàng đều phải có ít nhất một món hàng và mỗi món hàng đều phải nằm trong ít nhất một đơn hàng:


\subsection{Ánh xạ}
\par Từ các ERD/EERD trên, chúng ta có các ánh xạ sau tương ứng với mỗi service.

\subsubsection{Service Khách hàng}
\begin{figure}[!htp]
	\begin{center}
		\includegraphics[width=1\textwidth]{img/database/mapping/mapping-customer.png}
		\newline
		\caption{Ánh xạ cho database của service Khách hàng}
	\end{center}
\end{figure}

Bảng dữ liệu Khách hàng trong service Khách hàng bao gồm các thuộc tính và kiểu dữ liệu như sau:
\begin{itemize}
	\item Mã khách hàng: varchar(100).
	\item Tên đăng nhập: varchar(100).
	\item Tên: varchar(100).
	\item Email: varchar(100).
	\item Số điện thoại: varchar(15).
	\item Giới tính: int.
	\item Đường: varchar(100).
	\item Phường\_xã: varchar(50).
	\item Quận\_huyện: varchar(50).
	\item Tỉnh\_thành: varchar(50).
\end{itemize}

\subsubsection{Service Giỏ hàng}
\begin{figure}[!htp]
	\begin{center}
		\includegraphics[width=12cm]{img/database/mapping/mapping-cart.png}
		\newline
		\caption{Ánh xạ cho database của service Giỏ hàng}
	\end{center}
\end{figure}

Bảng dữ liệu Giỏ hàng trong service Giỏ hàng bao gồm các thuộc tính và kiểu dữ liệu như sau:
\begin{itemize}
	\item Mã giỏ hàng: varchar(100).
	\item Mã khách hàng: varchar(100).
\end{itemize}

Bảng dữ liệu Hàng trong service Giỏ hàng bao gồm các thuộc tính và kiểu dữ liệu như sau:
\begin{itemize}
	\item Mã hàng: varchar(100).
	\item Kích thước: varchar(5).
	\item Màu: varchar(10).
	\item Số lượng: int.
	\item Mã giỏ hàng: varchar(100).
\end{itemize}

\subsubsection{Service Sự kiện}
\begin{figure}[!htp]
	\begin{center}
		\includegraphics[width=11cm]{img/database/mapping/mapping-event.png}
		\newline
		\caption{Ánh xạ cho database của service Sự kiện}
	\end{center}
\end{figure}

Bảng dữ liệu Sự kiện trong service Sự kiện bao gồm các thuộc tính và kiểu dữ liệu như sau:
\begin{itemize}
	\item Mã sự kiện: varchar(100).
	\item Tên: varchar(100).
	\item Giảm giá: int.
	\item Thời gian bắt đầu: DateTime.
	\item Thời gian kết thúc: DateTime.
\end{itemize}


Bảng dữ liệu Sự kiện có hàng trong service Sự kiện bao gồm các thuộc tính và kiểu dữ liệu như sau:
\begin{itemize}
	\item Mã sự kiện: varchar(100).
	\item Mã hàng: varchar(100).
\end{itemize}

\subsubsection{Service Hàng hóa}
\begin{figure}[!htp]
	\begin{center}
		\includegraphics[width=16cm]{img/database/mapping/mapping-hàng.png}
		\newline
		\caption{Ánh xạ cho database của service Hàng hóa}
	\end{center}
\end{figure}

Bảng dữ liệu Hàng hóa trong service Hàng hóa bao gồm các thuộc tính và kiểu dữ liệu:
\begin{itemize}
	\item Mã hàng: varchar(100).
	\item Kích thước: varchar(5).
	\item Màu: varchar(10).
	\item Tên hàng: varchar(100).
	\item Loại: varchar(100).
	\item Giới tính: int.
	\item Lứa tuổi: varchar(50).
	\item Nhà sản xuất: varchar(100).
	\item Được bán: tinyint.
	\item Đơn giá: int.
	\item Mô tả: varchar(100).
\end{itemize}

Bảng dữ liệu Hình ảnh hàng trong service Hàng hóa bao gồm các thuộc tính và kiểu dữ liệu:
\begin{itemize}
	\item Mã hàng: varchar(100).
	\item Mặc định: tinyint.
	\item Màu: varchar(10).
	\item Hình ảnh: varchar(100).
\end{itemize}

Bảng dữ liệu Hàng hóa trong kho trong service Hàng hóa gồm các thuộc tính và kiểu dữ liệu:
\begin{itemize}
	\item Mã hàng: varchar(100).
	\item Kích thước: varchar(5).
	\item Màu: varchar(10).
	\item Mã kho: varchar(100).
	\item Số lượng: int.
	\item Ngày tạo: Date.
	\item Ngày thay đổi: Date.
\end{itemize}

\subsubsection{Service Đơn hàng}
\begin{figure}[!htp]
	\begin{center}
		\includegraphics[width=17cm]{img/database/mapping/mapping-đơnhàng.png}
		\newline
		\caption{Ánh xạ cho database của service Đơn hàng}
	\end{center}
\end{figure}
Bảng dữ liệu Hàng trong service Đơn hàng bao gồm các thuộc tính và kiểu dữ liệu:
\begin{itemize}
	\item Mã hàng: varchar(100).
	\item Kích thước: varchar(5).
	\item Màu: varchar(10).
	\item Mã đơn hàng: varchar(100).
	\item Số lượng: int.
	\item Đơn giá: int.
	\item Thành tiền: int.
	\item Thuế: double.
\end{itemize}

Bảng dữ liệu Đơn hàng trong service Đơn hàng bao gồm các thuộc tính và kiểu dữ liệu:
\begin{itemize}
	\item Mã đơn hàng: varchar(100).
	\item Ngày giao dịch: Date.
	\item Tổng giá tiền: int.
	\item Mã công khai: varchar(100).
\end{itemize}

Bảng dữ liệu Đơn hàng online trong service Đơn hàng bao gồm các thuộc tính và kiểu dữ liệu:
\begin{itemize}
	\item Mã đơn hàng: varchar(100).
	\item Mong đợi: Date.
	\item Phí ship: int.
	\item Mã khách hàng: varchar(100).
	\item Phương thức thanh toán: varchar(50).
	\item đường: varchar(50).
	\item phường xã:varchar(50).
	\item quận huyện:varchar(50).
	\item tỉnh thành: varchar(50).
	\item tên người nhận: varchar(50).
	\item sdt: varchar(13).
	\item email: varchar(50).
	\item ngày dự kiến: Date
\end{itemize}

Bảng dữ liệu Đơn hàng cửa hàng trong service Đơn hàng bao gồm các thuộc tính và kiểu dữ liệu:
\begin{itemize}
	\item Mã đơn hàng: varchar(100).
	\item Mã cửa hàng: varchar(100).
	\item Mã nhân viên: varchar(50).
\end{itemize}

Bảng dữ liệu Trạng thái đơn hàng online cửa hàng trong service Đơn hàng bao gồm các thuộc tính và kiểu dữ liệu:
\begin{itemize}
	\item Mã đơn hàng: varchar(100).
	\item Trạng thái: varchar(50).
	\item Thời gian: DateTime.
\end{itemize}



\subsubsection{Service Kho}
\begin{figure}[!htp]
	\begin{center}
		\includegraphics[width=1\textwidth]{img/database/mapping/mapping-kho.png}
		\newline
		\caption{Ánh xạ cho database của service Kho}
	\end{center}
\end{figure}
Bảng dữ liệu Kho trong service Kho bao gồm các thuộc tính và kiểu dữ liệu:
\begin{itemize}
	\item Mã kho: varchar(100).
	\item Tên kho: varchar(100).
	\item Sức chứa: int.
	\item Ngày thành lập: Date.
	\item Số nhà\_đường: varchar(100).
	\item Phường\_xã: varchar(100).
	\item Quận\_huyện: varchar(100).
	\item Tỉnh\_thành: varchar(100).
\end{itemize}

Bảng dữ liệu Nhân viên thuộc kho trong service Kho bao gồm các thuộc tính và kiểu dữ liệu:
\begin{itemize}
	\item Mã nhân viên: varchar(100).
	\item Mã kho: varchar(100).
	\item Ngày bắt đầu: Date.
	\item Ngày kết thúc: Date.
	\item Vị trí: int.
\end{itemize}




\subsubsection{Service chi nhánh}
\begin{figure}[!htp]
	\begin{center}
		\includegraphics[width=1\textwidth]{img/database/mapping/branch.png}
		\newline
		\caption{Ánh xạ cho database của service chi nhánh}
	\end{center}
\end{figure}

Bảng "Chi nhánh" bao gồm các thuộc tính và kiểu dữ liệu như sau:
\begin{itemize}
	\item mã: varchar(100).
	\item tên: varchar(100).
	\item tỉnh: varchar(50).
	\item quận: varchar(50).
	\item phường: varchar(50).
	\item đường: varchar(100).
	\item ngày tạo: dateTime.
	\item quản lý: varchar(100).
	\item giờ mở cửa: time.
	\item giờ đóng cửa: time.
\end{itemize}

Bảng "Làm tại" bao gồm các thuộc tính và kiểu dữ liệu như sau:
\begin{itemize}
	\item mã nhân viên: string.
	\item mã kho: string.
	\item ngày bắt đầu: dateTime.
	\item ngày kết thúc: dateTime.
\end{itemize}


\subsubsection{Service tài khoản}
\begin{figure}[!htp]
	\begin{center}
		\includegraphics[width=8cm]{img/database/mapping/account.png}
	\end{center}
	\caption{Ánh xạ cho database của service tài khoản}
\end{figure}

Bảng "Tài khoản" bao gồm các thuộc tính và kiểu dữ liệu như sau:
\begin{itemize}
	\item tên đăng nhập: varchar(100).
	\item mật khẩu: varchar(100).
	\item quyền: int.
	\item trạng thái: int.
	\item email: varchar(100).
	\item ngày tạo: Date
\end{itemize}


\subsubsection{Service nhân viên}
\begin{figure}[!htp]
	\begin{center}
		\includegraphics[width=17cm]{img/database/mapping/staff.png}
		\newline
		\caption{Ánh xạ cho database của service nhân viên}
	\end{center}
\end{figure}

Bảng "Tài khoản" bao gồm các thuộc tính và kiểu dữ liệu như sau:
\begin{itemize}
	\item Tên đăng nhập: varchar(100).
	\item Mã nhân viên: varchar(100).
\end{itemize}

Bảng "Nhân viên" bao gồm các thuộc tính và kiểu dữ liệu như sau:
\begin{itemize}
	\item mã: varchar(100).
	\item tên: varchar(100).
	\item tỉnh: varchar(50).
	\item quận: varchar(50).
	\item phường: varchar(50).
	\item đường: varchar(50).
	\item căn cước: varchar(50).
	\item vị trí: int.
	\item ngày vào: dateTime.
	\item lương: int.
	\item nơi làm việc: varchar(50).
	\item giới tính: int.
	\item sdt: varchar(12).
	\item email: varchar(100).
	\item trạng thái: int.
\end{itemize}


Bảng "Bản yêu cầu" bao gồm các thuộc tính và kiểu dữ liệu như sau:
\begin{itemize}
	\item mã: varchar(100).
	\item ngày yêu cầu: dateTime.
	\item loại: int.
	\item mã nhân viên: varchar(100).
	\item trạng thái: time.
\end{itemize}


\subsubsection{Service thống kê}
\begin{figure}[!htp]
	\begin{center}
		\includegraphics[width=1\textwidth]{img/database/mapping/Statistic.png}
		\newline
		\caption{Ánh xạ cho database của service thống kê}
	\end{center}
\end{figure}

Bảng "Hàng hóa" bao gồm các thuộc tính và kiểu dữ liệu như sau:
\begin{itemize}
	\item mã hàng: varchar(100).
	\item kích thước: varchar(5).
	\item màu: varchar(10).
	\item loại: varchar(100).
	\item giới tính: int.
	\item giá nhập: int.
	\item đơn giá: int.
	\item số lượng: int.
	\item mã đơn hàng: varchar(100).
\end{itemize}

\begin{itemize}
	\item mã đơn hàng: varchar(100).
	\item ngày giao dịch: dateTime.
	\item chi nhánh: varchar(100).
\end{itemize}